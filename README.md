{"payload":{"allShortcutsEnabled":false,"fileTree":{"":{"items":[{"name":".circleci","path":".circleci","contentType":"directory"},{"name":".github","path":".github","contentType":"directory"},{"name":".hooks","path":".hooks","contentType":"directory"},{"name":"alert","path":"alert","contentType":"directory"},{"name":"auth","path":"auth","contentType":"directory"},{"name":"bufpool","path":"bufpool","contentType":"directory"},{"name":"client","path":"client","contentType":"directory"},{"name":"clock","path":"clock","contentType":"directory"},{"name":"cmd","path":"cmd","contentType":"directory"},{"name":"command","path":"command","contentType":"directory"},{"name":"edge","path":"edge","contentType":"directory"},{"name":"etc","path":"etc","contentType":"directory"},{"name":"examples","path":"examples","contentType":"directory"},{"name":"expvar","path":"expvar","contentType":"directory"},{"name":"http","path":"http","contentType":"directory"},{"name":"influxdb","path":"influxdb","contentType":"directory"},{"name":"integrations","path":"integrations","contentType":"directory"},{"name":"keyvalue","path":"keyvalue","contentType":"directory"},{"name":"listmap","path":"listmap","contentType":"directory"},{"name":"models","path":"models","contentType":"directory"},{"name":"pipeline","path":"pipeline","contentType":"directory"},{"name":"scripts","path":"scripts","contentType":"directory"},{"name":"server","path":"server","contentType":"directory"},{"name":"services","path":"services","contentType":"directory"},{"name":"task","path":"task","contentType":"directory"},{"name":"tick","path":"tick","contentType":"directory"},{"name":"timer","path":"timer","contentType":"directory"},{"name":"tlsconfig","path":"tlsconfig","contentType":"directory"},{"name":"udf","path":"udf","contentType":"directory"},{"name":"usr","path":"usr","contentType":"directory"},{"name":"uuid","path":"uuid","contentType":"directory"},{"name":"waiter","path":"waiter","contentType":"directory"},{"name":".dockerignore","path":".dockerignore","contentType":"file"},{"name":".gitattributes","path":".gitattributes","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"BLOB_STORE_DESIGN.md","path":"BLOB_STORE_DESIGN.md","contentType":"file"},{"name":"CHANGELOG.md","path":"CHANGELOG.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"DESIGN.md","path":"DESIGN.md","contentType":"file"},{"name":"Dockerfile_build_ubuntu64","path":"Dockerfile_build_ubuntu64","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"LICENSE_OF_DEPENDENCIES.md","path":"LICENSE_OF_DEPENDENCIES.md","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"alert.go","path":"alert.go","contentType":"file"},{"name":"autoscale.go","path":"autoscale.go","contentType":"file"},{"name":"barrier.go","path":"barrier.go","contentType":"file"},{"name":"batch.go","path":"batch.go","contentType":"file"},{"name":"build.py","path":"build.py","contentType":"file"},{"name":"build.sh","path":"build.sh","contentType":"file"},{"name":"change_detect.go","path":"change_detect.go","contentType":"file"},{"name":"checkfmt.sh","path":"checkfmt.sh","contentType":"file"},{"name":"circle-test.sh","path":"circle-test.sh","contentType":"file"},{"name":"circularqueue.go","path":"circularqueue.go","contentType":"file"},{"name":"circularqueue_test.go","path":"circularqueue_test.go","contentType":"file"},{"name":"combine.go","path":"combine.go","contentType":"file"},{"name":"combine_test.go","path":"combine_test.go","contentType":"file"},{"name":"default.go","path":"default.go","contentType":"file"},{"name":"delete.go","path":"delete.go","contentType":"file"},{"name":"derivative.go","path":"derivative.go","contentType":"file"},{"name":"doc.go","path":"doc.go","contentType":"file"},{"name":"edge.go","path":"edge.go","contentType":"file"},{"name":"eval.go","path":"eval.go","contentType":"file"},{"name":"expr.go","path":"expr.go","contentType":"file"},{"name":"flatten.go","path":"flatten.go","contentType":"file"},{"name":"fluxquery.go","path":"fluxquery.go","contentType":"file"},{"name":"generate.sh","path":"generate.sh","contentType":"file"},{"name":"go.mod","path":"go.mod","contentType":"file"},{"name":"go.sum","path":"go.sum","contentType":"file"},{"name":"gobuild.sh","path":"gobuild.sh","contentType":"file"},{"name":"group_by.go","path":"group_by.go","contentType":"file"},{"name":"http_out.go","path":"http_out.go","contentType":"file"},{"name":"http_post.go","path":"http_post.go","contentType":"file"},{"name":"influxdb_out.go","path":"influxdb_out.go","contentType":"file"},{"name":"influxql.gen.go","path":"influxql.gen.go","contentType":"file"},{"name":"influxql.gen.go.tmpl","path":"influxql.gen.go.tmpl","contentType":"file"},{"name":"influxql.go","path":"influxql.go","contentType":"file"},{"name":"join.go","path":"join.go","contentType":"file"},{"name":"kapacitor_loopback.go","path":"kapacitor_loopback.go","contentType":"file"},{"name":"list-deps","path":"list-deps","contentType":"file"},{"name":"log.go","path":"log.go","contentType":"file"},{"name":"metaclient.go","path":"metaclient.go","contentType":"file"},{"name":"node.go","path":"node.go","contentType":"file"},{"name":"noop.go","path":"noop.go","contentType":"file"},{"name":"output.go","path":"output.go","contentType":"file"},{"name":"pkg-config.sh","path":"pkg-config.sh","contentType":"file"},{"name":"query.go","path":"query.go","contentType":"file"},{"name":"query_test.go","path":"query_test.go","contentType":"file"},{"name":"replay.go","path":"replay.go","contentType":"file"},{"name":"result.go","path":"result.go","contentType":"file"},{"name":"sample.go","path":"sample.go","contentType":"file"},{"name":"shift.go","path":"shift.go","contentType":"file"},{"name":"sideload.go","path":"sideload.go","contentType":"file"},{"name":"state_tracking.go","path":"state_tracking.go","contentType":"file"},{"name":"staticcheck.conf","path":"staticcheck.conf","contentType":"file"},{"name":"stats.go","path":"stats.go","contentType":"file"},{"name":"stream.go","path":"stream.go","contentType":"file"},{"name":"task.go","path":"task.go","contentType":"file"},{"name":"task_master.go","path":"task_master.go","contentType":"file"},{"name":"template.go","path":"template.go","contentType":"file"},{"name":"test.sh","path":"test.sh","contentType":"file"},{"name":"tickdoc.conf","path":"tickdoc.conf","contentType":"file"},{"name":"tmpldata.json","path":"tmpldata.json","contentType":"file"},{"name":"tools.go","path":"tools.go","contentType":"file"},{"name":"trickle.go","path":"trickle.go","contentType":"file"},{"name":"udf.go","path":"udf.go","contentType":"file"},{"name":"udf_test.go","path":"udf_test.go","contentType":"file"},{"name":"union.go","path":"union.go","contentType":"file"},{"name":"update_tick_docs.sh","path":"update_tick_docs.sh","contentType":"file"},{"name":"where.go","path":"where.go","contentType":"file"},{"name":"window.go","path":"window.go","contentType":"file"},{"name":"window_test.go","path":"window_test.go","contentType":"file"}],"totalCount":111}},"fileTreeProcessingTime":10.400115,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":41681600,"defaultBranch":"master","name":"kapacitor","ownerLogin":"influxdata","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2015-08-31T14:54:42.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/5713248?v=4","public":true,"private":false,"isOrgOwned":true},"refInfo":{"name":"master","listCacheKey":"v0:1690904306.0","canEdit":false,"refType":"branch","currentOid":"e07d6bb2c4f54d3834f4d2caa159000bbf9f393d"},"path":"README.md","currentUser":null,"blob":{"rawLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/influxdata/kapacitor/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/influxdata/kapacitor/security/dependabot","repoSecurityAndAnalysisPath":"/influxdata/kapacitor/settings/security_analysis","repoOwnerIsOrg":true,"currentUserCanAdminRepo":false},"displayName":"README.md","displayUrl":"https://github.com/influxdata/kapacitor/blob/master/README.md?raw=true","headerInfo":{"blobSize":"2.64 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"da46a9c","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Finfluxdata%2Fkapacitor%2Fblob%2Fmaster%2FREADME.md","isCSV":false,"isRichtext":true,"toc":[{"level":1,"text":"Kapacitor ","anchor":"kapacitor--","htmlText":"Kapacitor "},{"level":1,"text":"Installation","anchor":"installation","htmlText":"Installation"},{"level":1,"text":"Configuration","anchor":"configuration","htmlText":"Configuration"},{"level":1,"text":"Getting Started","anchor":"getting-started","htmlText":"Getting Started"},{"level":1,"text":"Basic Example","anchor":"basic-example","htmlText":"Basic Example"}],"lineInfo":{"truncatedLoc":"80","truncatedSloc":"59"},"mode":"file"},"image":false,"isCodeownersFile":null,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","languageID":222,"large":false,"loggedIn":false,"newDiscussionPath":"/influxdata/kapacitor/discussions/new","newIssuePath":"/influxdata/kapacitor/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/influxdata/kapacitor/blob/master/README.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/influxdata/kapacitor/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-kapacitor--\" class=\"anchor\" aria-hidden=\"true\" href=\"#kapacitor--\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Kapacitor <a href=\"https://circleci.com/gh/influxdata/kapacitor/tree/master\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/88bf0b8fd3f12a775abf9ae14bc78b89ddab9e528e68c4f50a3aed431fb311bc/68747470733a2f2f636972636c6563692e636f6d2f67682f696e666c7578646174612f6b6170616369746f722f747265652f6d61737465722e7376673f7374796c653d73766726636972636c652d746f6b656e3d37386339373432326366383935323633303965353032613239306332333065386134363332323966\" alt=\"Circle CI\" data-canonical-src=\"https://circleci.com/gh/influxdata/kapacitor/tree/master.svg?style=svg&amp;circle-token=78c97422cf89526309e502a290c230e8a463229f\" style=\"max-width: 100%;\"></a> <a href=\"https://hub.docker.com/_/kapacitor/\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/93467d681f51849f407ef4a92cc138e7c33cc4825980ce505594120f9767bf09/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f70756c6c732f6c6962726172792f6b6170616369746f722e737667\" alt=\"Docker pulls\" data-canonical-src=\"https://img.shields.io/docker/pulls/library/kapacitor.svg\" style=\"max-width: 100%;\"></a></h1>\n<p dir=\"auto\">Open source framework for processing, monitoring, and alerting on time series data</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-installation\" class=\"anchor\" aria-hidden=\"true\" href=\"#installation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Installation</h1>\n<p dir=\"auto\">Kapacitor has two binaries:</p>\n<ul dir=\"auto\">\n<li>kapacitor – a CLI program for calling the Kapacitor API.</li>\n<li>kapacitord – the Kapacitor server daemon.</li>\n</ul>\n<p dir=\"auto\">You can either download the binaries directly from the <a href=\"https://influxdata.com/downloads/#kapacitor\" rel=\"nofollow\">downloads</a> page or go get them:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"go get github.com/influxdata/kapacitor/cmd/kapacitor\ngo get github.com/influxdata/kapacitor/cmd/kapacitord\"><pre>go get github.com/influxdata/kapacitor/cmd/kapacitor\ngo get github.com/influxdata/kapacitor/cmd/kapacitord</pre></div>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-configuration\" class=\"anchor\" aria-hidden=\"true\" href=\"#configuration\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Configuration</h1>\n<p dir=\"auto\">An example configuration file can be found <a href=\"https://github.com/influxdata/kapacitor/blob/master/etc/kapacitor/kapacitor.conf\">here</a></p>\n<p dir=\"auto\">Kapacitor can also provide an example config for you using this command:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"kapacitord config\"><pre>kapacitord config</pre></div>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-getting-started\" class=\"anchor\" aria-hidden=\"true\" href=\"#getting-started\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Getting Started</h1>\n<p dir=\"auto\">This README gives you a high level overview of what Kapacitor is and what its like to use it. As well as some details of how it works.\nTo get started using Kapacitor see <a href=\"https://docs.influxdata.com/kapacitor/latest/introduction/getting-started/\" rel=\"nofollow\">this guide</a>. After you finish the getting started exercise you can check out the <a href=\"https://github.com/influxdata/kapacitor/tree/master/examples/telegraf\">TICKscripts</a> for different Telegraf plugins.</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-basic-example\" class=\"anchor\" aria-hidden=\"true\" href=\"#basic-example\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Basic Example</h1>\n<p dir=\"auto\">Kapacitor uses a DSL named <a href=\"https://docs.influxdata.com/kapacitor/latest/tick/\" rel=\"nofollow\">TICKscript</a> to define tasks.</p>\n<p dir=\"auto\">A simple TICKscript that alerts on high cpu usage looks like this:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"stream\n    |from()\n        .measurement('cpu_usage_idle')\n        .groupBy('host')\n    |window()\n        .period(1m)\n        .every(1m)\n    |mean('value')\n    |eval(lambda: 100.0 - &quot;mean&quot;)\n        .as('used')\n    |alert()\n        .message('{{ .Level}}: {{ .Name }}/{{ index .Tags &quot;host&quot; }} has high cpu usage: {{ index .Fields &quot;used&quot; }}')\n        .warn(lambda: &quot;used&quot; &gt; 70.0)\n        .crit(lambda: &quot;used&quot; &gt; 85.0)\n\n        // Send alert to hander of choice.\n\n        // Slack\n        .slack()\n        .channel('#alerts')\n\n        // VictorOps\n        .victorOps()\n        .routingKey('team_rocket')\n\n        // PagerDuty\n        .pagerDuty()\"><pre><span class=\"pl-s1\">stream</span>\n    <span class=\"pl-c1\">|</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">measurement</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'cpu_usage_idle'</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">groupBy</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'host'</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c1\">|</span><span class=\"pl-smi\">window</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">period</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">every</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-s1\">m</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c1\">|</span><span class=\"pl-en\">mean</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'value'</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c1\">|</span><span class=\"pl-en\">eval</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">lambda</span>: <span class=\"pl-c1\">100.0</span> <span class=\"pl-c1\">-</span> <span class=\"pl-s\">\"mean\"</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">as</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'used'</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c1\">|</span><span class=\"pl-en\">alert</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">message</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'{{ .Level}}: {{ .Name }}/{{ index .Tags \"host\" }} has high cpu usage: {{ index .Fields \"used\" }}'</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">warn</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">lambda</span>: <span class=\"pl-s\">\"used\"</span> <span class=\"pl-c1\">&gt;</span> <span class=\"pl-c1\">70.0</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">crit</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">lambda</span>: <span class=\"pl-s\">\"used\"</span> <span class=\"pl-c1\">&gt;</span> <span class=\"pl-c1\">85.0</span><span class=\"pl-kos\">)</span>\n\n        <span class=\"pl-c\">// Send alert to hander of choice.</span>\n\n        <span class=\"pl-c\">// Slack</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">slack</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">channel</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'#alerts'</span><span class=\"pl-kos\">)</span>\n\n        <span class=\"pl-c\">// VictorOps</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">victorOps</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">routingKey</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'team_rocket'</span><span class=\"pl-kos\">)</span>\n\n        <span class=\"pl-c\">// PagerDuty</span>\n        <span class=\"pl-kos\">.</span><span class=\"pl-en\">pagerDuty</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Place the above script into a file <code>cpu_alert.tick</code> then run these commands to start the task:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Define the task (assumes cpu data is in db 'telegraf')\nkapacitor define \\\n    cpu_alert \\\n    -type stream \\\n    -dbrp telegraf.default \\\n    -tick ./cpu_alert.tick\n# Start the task\nkapacitor enable cpu_alert\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> Define the task (assumes cpu data is in db 'telegraf')</span>\nkapacitor define \\\n    cpu_alert \\\n    -type stream \\\n    -dbrp telegraf.default \\\n    -tick ./cpu_alert.tick\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Start the task</span>\nkapacitor <span class=\"pl-c1\">enable</span> cpu_alert</pre></div>\n</article>","renderedFileInfo":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"influxdata","repoName":"kapacitor","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"copilotInfo":null,"csrf_tokens":{"/influxdata/kapacitor/branches":{"post":"KKXgRuvLMBgK7S1966C_vyBalqVOAqn_dBLmsbFSW5ixOcuqswJjidCB1evNWJ7unlU4JOQPTfVAdDcvhG-1PA"}}},"title":"kapacitor/README.md at master · influxdata/kapacitor"}